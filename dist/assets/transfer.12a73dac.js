import{d as T,g as d,a as z,h as o,al as v,c as F,av as ae,r as u,w as m,i as e,e as n,am as A,ah as g,aq as M,au as V,ap as X,ar as W,ak as I,ai as H,aj as N,as as O,T as ce,j as re}from"./vendor.38c8d2bd.js";import{_ as S,u as le,l as E,b as J,m as B,h as ie,q as de}from"./index.54f915bc.js";import{p as ue,S as j,R as K,a as _e,b as me,_ as pe}from"./symbol.aaf20d7a.js";import"./index.4f8d112e.js";var he="/assets/avatar.c50f2475.svg";const ve=t=>t||he,fe=t=>t||ue,ge={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ke=o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-miterlimit":"10","stroke-width":"44",d:"M465 127L241 384l-92-92"},null,-1),we=o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-miterlimit":"10","stroke-width":"44",d:"M140 385l-93-93"},null,-1),ye=o("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-miterlimit":"10","stroke-width":"44",d:"M363 127L236 273"},null,-1);var Ce=T({name:"CheckmarkDoneSharp",render:function(i,a){return d(),z("svg",ge,[ke,we,ye])}});const $e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},xe=o("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1);var be=T({name:"Close",render:function(i,a){return d(),z("svg",$e,[xe])}});const Te={id:"ConfirmTradeAccount"},Ae={class:"content"},Re={class:"head"},Ie={class:"params"},Se={class:"center"},Be=["src"],ze={class:"amount"},Pe={class:"name"},Ue={class:"list"},Fe=["onClick"],He={class:"avatar"},Ne=["src"],Oe={class:"info"},Ee={class:"info_account"},je={class:"username"},De={class:"platform"},Le={class:"amount"},qe={class:"coin"},Ge={class:"done"},Me={key:0,class:"noData"},Ve={class:"operate"},Xe=T({props:{show:{type:Boolean},amount:null,coin:null},emits:["closeTradeAccount"],setup(t,{emit:i}){const a=t;let s=v(!1),r=v([]);const C=le(),f=E(),$=J();let c=v(null);const x=async(_,w)=>await $.client.balance(_,w),p=async()=>new Promise(_=>{setTimeout(async()=>{let w=[];for(let l in B)B[l].amount=await x(B[l].platform,B[l].username),w.push(B[l]);_(w)},3e3)}),h=async()=>{s.value=!0,r.value=await p(),s.value=!1},R=_=>{c.value=_},k=F(()=>c.value?"light":"dark"),P=async()=>{var _;await $.client.transfer(a.amount,c.value.platform,c.value.username,f.platform,f.username,f.mpk),b("transfer.txt",`${c.value.username}@${c.value.platform} has transfer ${a.amount} ${(_=a.coin)==null?void 0:_.name} to ${f.username}@${f.platform}`),i("closeTradeAccount")},b=(_,w)=>{var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(w)),l.setAttribute("download",_),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},D=()=>{i("closeTradeAccount")};return ae([()=>C.connect.account,()=>a.show,()=>a.amount,()=>a.coin],([_,w,l,U])=>{_&&w&&l&&U&&h()},{deep:!0,immediate:!0}),(_,w)=>{const l=u("n-icon"),U=u("n-number-animation"),ee=u("XyzTransitionGroup"),te=u("n-empty"),ne=u("n-spin"),oe=u("n-scrollbar"),se=u("n-modal");return d(),z(se,{show:t.show,"z-index":1e4},{default:m(()=>[e("div",Te,[o(oe,{style:{"max-height":"500px"}},{default:m(()=>{var L,q;return[e("div",Ae,[e("div",Re,[e("div",{class:"close",onClick:D},[o(l,{size:21,color:"#FFFFFF99"},{default:m(()=>[o(n(be))]),_:1})])]),e("div",Ie,[e("div",Se,[e("img",{src:n(fe)((L=t.coin)==null?void 0:L.icon),class:"icon"},null,8,Be),e("div",ze,[o(U,{"show-separator":"",precision:2,to:Number(t.amount)},null,8,["to"])]),e("span",Pe,A((q=t.coin)==null?void 0:q.name),1)])]),o(ne,{show:n(s),size:"large",description:"Loading accounts"},{default:m(()=>[e("div",Ue,[o(ee,{"appear-visible":"",xyz:"fade small-3 down-25% stagger-1.5"},{default:m(()=>[(d(!0),g(X,null,M(n(r),y=>{var G;return d(),g("div",{class:"item",key:y,onClick:bt=>R(y)},[e("div",He,[e("img",{src:n(ve)(y.avatar)},null,8,Ne)]),e("div",Oe,[e("div",Ee,[e("span",je,A(y.username),1),e("span",De,A(y.platform),1)]),e("div",{class:V(["info_opt",{info_opt_done:y.key===((G=n(c))==null?void 0:G.key)}])},[e("div",{class:V(["money",{noSeles:t.amount>y.amount}])},[e("span",Le,A(y.amount),1),e("span",qe,A(y.coin),1)],2),e("div",Ge,[o(l,{color:"#0085FF",size:20},{default:m(()=>[o(n(Ce))]),_:1})])],2)])],8,Fe)}),128))]),_:1}),!n(s)&&!n(r).length?(d(),g("div",Me,[o(te,{description:"No account yet"})])):W("",!0)])]),_:1},8,["show"])])]}),_:1}),e("div",Ve,[o(n(j),{text:"Confirm",hover:!1,theme:n(k),onUserClickEvent:P},null,8,["theme"])])])]),_:1},8,["show"])}}});var We=S(Xe,[["__scopeId","data-v-6ca13d36"]]);const Q=t=>(H("data-v-53838d58"),t=t(),N(),t),Je={id:"TradeHRIPlatform"},Ke=Q(()=>e("span",{class:"title"},[I(" Please select your "),e("br"),I(" receiver's HRI platform ")],-1)),Qe=Q(()=>e("span",{class:"hint"},[I(" Faceless is an app that brings regulation- "),e("br"),I(" compliant financial privacy to the mass. ")],-1)),Ye={class:"content"},Ze=["onClick"],et=["src","alt"],tt={key:0,class:"noData"},nt=T({emits:["loadOtherComponent"],setup(t,{emit:i}){const a=E();let s=v(!1),r=v([]);const C=async()=>new Promise(c=>{setTimeout(()=>{c(ie)},1e3)});(async()=>{s.value=!0,r.value=await C(),s.value=!1})();const $=c=>{a.platform=c.name,i("loadOtherComponent",{name:"ReceiverAccount"})};return(c,x)=>{const p=u("n-tooltip"),h=u("XyzTransitionGroup"),R=u("n-empty"),k=u("n-spin"),P=u("n-scrollbar");return d(),g("div",Je,[Ke,Qe,o(P,{trigger:"none",style:{"max-height":"500px"}},{default:m(()=>[o(k,{show:n(s),size:"large",description:"Loading platforms"},{default:m(()=>[e("div",Ye,[o(h,{class:"transitionContent",xyz:"fade small-3 down-25% stagger-1.5","appear-visible":""},{default:m(()=>[(d(!0),g(X,null,M(n(r),b=>(d(),g("div",{class:"item",key:b},[o(p,null,{trigger:m(()=>[e("div",{class:"item_trigger",onClick:D=>$(b)},[e("img",{src:b.icon,alt:b.name},null,8,et)],8,Ze)]),default:m(()=>[I(" "+A(b.name),1)]),_:2},1024)]))),128))]),_:1}),!n(s)&&!n(r).length?(d(),g("div",tt,[o(R,{description:"No platform yet"})])):W("",!0)])]),_:1},8,["show"])]),_:1})])}}});var ot=S(nt,[["__scopeId","data-v-53838d58"]]);const Y=t=>(H("data-v-f395edee"),t=t(),N(),t),st={id:"ReceiverAccount"},at=Y(()=>e("div",{class:"logo"},[e("img",{src:de})],-1)),ct=Y(()=>e("span",{class:"hint"}," Please enter the receiver's HRI account. ",-1)),rt={class:"content"},lt={class:"item"},it={class:"btn"},dt={class:"back"},ut=T({emits:["loadOtherComponent"],setup(t,{emit:i}){const a=E();let s=v(null);v(null);const r=F(()=>s.value?"light":"dark"),C=c=>{i("loadOtherComponent",{name:c})},f=J(),$=async()=>{var c;a.username=s.value,a.mpk=(c=f.client.keypair())==null?void 0:c[1],i("loadOtherComponent",{name:"TradeAmount"})};return(c,x)=>{const p=u("n-input");return d(),g("div",st,[at,ct,e("div",rt,[e("div",lt,[o(p,{autofocus:"",clearable:"",minlength:1,placeholder:"Enter Username",value:n(s),"onUpdate:value":x[0]||(x[0]=h=>O(s)?s.value=h:s=h)},null,8,["value"])])]),e("div",it,[o(n(j),{text:"Next",hover:!1,theme:n(r),onUserClickEvent:$},null,8,["theme"])]),e("div",dt,[o(n(K),{name:"TradeHRIPlatform",onUserClickRouteBack:C})])])}}});var _t=S(ut,[["__scopeId","data-v-f395edee"]]);const Z=t=>(H("data-v-b3feca0c"),t=t(),N(),t),mt={id:"TradeAmount"},pt=Z(()=>e("img",{src:pe,class:"userAvatar"},null,-1)),ht=Z(()=>e("div",{class:"info"},[e("img",{src:me,class:"symbol"}),e("span",{class:"symbol_name"}," @Teatrrrraloo ")],-1)),vt={class:"coin"},ft={class:"content"},gt={class:"item"},kt={class:"btn"},wt={class:"back"},yt=T({emits:["loadOtherComponent"],setup(t,{emit:i}){let a=v(null),s=v(null),r=v(!1);const C=F(()=>s.value&&a.value?"light":"dark"),f=p=>{i("loadOtherComponent",{name:p})},$=async()=>{r.value=!0},c=()=>{r.value=!1},x=p=>!p||/^\d+$/.test(p);return(p,h)=>{const R=u("n-input");return d(),g("div",mt,[pt,ht,e("div",vt,[o(n(_e),{coin:n(a),"onUpdate:coin":h[0]||(h[0]=k=>O(a)?a.value=k:a=k)},null,8,["coin"])]),e("div",ft,[e("div",gt,[o(R,{autofocus:"",clearable:"",minlength:1,"allow-input":x,placeholder:"Enter Amount",value:n(s),"onUpdate:value":h[1]||(h[1]=k=>O(s)?s.value=k:s=k)},null,8,["value"])])]),e("div",kt,[o(n(j),{text:"Transfer",hover:!1,theme:n(C),onUserClickEvent:$},null,8,["theme"])]),e("div",wt,[o(n(K),{name:"ReceiverAccount",onUserClickRouteBack:f})]),o(n(We),{amount:n(s),show:n(r),onCloseTradeAccount:c,coin:n(a)},null,8,["amount","show","coin"])])}}});var Ct=S(yt,[["__scopeId","data-v-b3feca0c"]]);const $t={id:"transfer"},xt=T({setup(t){let i=v("TradeHRIPlatform");const a={TradeHRIPlatform:ot,ReceiverAccount:_t,TradeAmount:Ct},s=({name:r})=>{i.value=r};return(r,C)=>(d(),g("div",$t,[o(ce,{mode:"out-in",name:"transfer"},{default:m(()=>[(d(),z(re(a[n(i)]),{onLoadOtherComponent:s}))]),_:1})]))}});var St=S(xt,[["__scopeId","data-v-a67bfdb0"]]);export{St as default};
