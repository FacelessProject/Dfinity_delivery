var Pe=Object.defineProperty;var I=Object.getOwnPropertySymbols;var Ve=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var J=(e,t,n)=>t in e?Pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P=(e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&J(e,n,t[n]);if(I)for(var n of I(t))qe.call(t,n)&&J(e,n,t[n]);return e};var k=(e,t,n)=>(J(e,typeof t!="symbol"?t+"":t,n),n);import{b as X,p as Me,E as ze,d as Ue,o as $e,u as He,c as We,r as V,a as D,w as A,e as L,f as ee,g as te,h as q,i as je,T as Ke,j as Ge,k as O,W as Je,A as Xe,K as Qe,l as ne,H as ae,s as Ze,m as Ye,P as R,n as Ie,q as De,t as Le,v as et,x as tt,y as nt,N as at,z as rt,B as ot,C as st,D as it,F as ct,G as lt,I as _t,J as dt,L as ut,M as pt,O as mt,Q as ft,R as gt,S as ht,U as yt,V as bt,X as wt,Y as kt,Z as vt,_ as Nt,$ as xt,a0 as Tt,a1 as Ft,a2 as At,a3 as Ot,a4 as Rt,a5 as Ct,a6 as Et,a7 as Bt,a8 as St,a9 as Pt,aa as Vt,ab as qt,ac as Mt,ad as zt,ae as Ut,af as $t,ag as Ht}from"./vendor.38c8d2bd.js";const Wt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};Wt();window.Buffer=X.Buffer;window.process=Me;window.EventEmitter=ze;var jt=JSON.parse('{"common":{"heightMedium":"50px","borderRadius":"10px","primaryColor":"#0085FF","inputColor":"#78788021","primaryColorSuppl":"#0085FFFF","primaryColorHover":"#0085FFFF","primaryColorPressed":"#0085FFFF","fontFamily":"Ubuntu-Regular","popoverColor":"#27323f"},"Tooltip":{"color":"#313b47","textColor":"#FFFFFF","padding":"8px 17px"}}');var Kt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n};const Gt={id:"main"},Jt=Ue({setup(e){$e(()=>{t({path:"/"}).finally(()=>{window.location.reload()})});const{push:t}=He(),n=a=>document.documentElement.className=a,r=We(()=>"theme-dark");return n(r.value),(a,o)=>{const i=V("router-view"),c=V("n-message-provider"),l=V("n-loading-bar-provider"),_=V("n-notification-provider"),d=V("n-config-provider");return te(),D(d,{theme:L(ee),"theme-overrides":L(jt)},{default:A(()=>[q(_,null,{default:A(()=>[q(l,null,{default:A(()=>[q(c,null,{default:A(()=>[je("div",Gt,[q(i,null,{default:A(({Component:u})=>[q(Ke,{appear:"",mode:"out-in",name:"main"},{default:A(()=>[(te(),D(Ge(u)))]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["theme","theme-overrides"])}}});var Xt=Kt(Jt,[["__scopeId","data-v-7664dd11"]]);const Qt="modulepreload",re={},Zt="/",C=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${Zt}${r}`,r in re)return;re[r]=!0;const a=r.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${o}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":Qt,a||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),a)return new Promise((c,l)=>{i.addEventListener("load",c),i.addEventListener("error",l)})})).then(()=>t())},oe=O("faceless",{state:()=>({client:{}}),getters:{},actions:{}}),se=O("config",{state:()=>({website:"http://127.0.0.1:4944",backend:"dfinity",substrate_wss:"wss://dapp.faceless.live/substrate_node"}),getters:{},actions:{}});let s;const ie=typeof TextDecoder!="undefined"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder!="undefined"&&ie.decode();let M=null;function $(){return(M===null||M.byteLength===0)&&(M=new Uint8Array(s.memory.buffer)),M}function w(e,t){return e=e>>>0,ie.decode($().subarray(e,e+t))}let z=null;function p(){return(z===null||z.byteLength===0)&&(z=new Int32Array(s.memory.buffer)),z}let m=0;const H=typeof TextEncoder!="undefined"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Yt=typeof H.encodeInto=="function"?function(e,t){return H.encodeInto(e,t)}:function(e,t){const n=H.encode(e);return t.set(n),{read:e.length,written:n.length}};function g(e,t,n){if(n===void 0){const c=H.encode(e),l=t(c.length)>>>0;return $().subarray(l,l+c.length).set(c),m=c.length,l}let r=e.length,a=t(r)>>>0;const o=$();let i=0;for(;i<r;i++){const c=e.charCodeAt(i);if(c>127)break;o[a+i]=c}if(i!==r){i!==0&&(e=e.slice(i)),a=n(a,r,r=i+e.length*3)>>>0;const c=$().subarray(a+i,a+r);i+=Yt(e,c).written}return m=i,a}class v{static __wrap(t){t=t>>>0;const n=Object.create(v.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_ibewrapper_free(t)}static new(){const t=s.ibewrapper_new();return v.__wrap(t)}random_scalar(){let t,n;try{const o=s.__wbindgen_add_to_stack_pointer(-16);s.ibewrapper_random_scalar(o,this.__wbg_ptr);var r=p()[o/4+0],a=p()[o/4+1];return t=r,n=a,w(r,a)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(t,n)}}static msk_to_mpk(t){let n,r;try{const i=s.__wbindgen_add_to_stack_pointer(-16),c=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),l=m;s.ibewrapper_msk_to_mpk(i,c,l);var a=p()[i/4+0],o=p()[i/4+1];return n=a,r=o,w(a,o)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(n,r)}}generate_key(){const t=s.ibewrapper_generate_key(this.__wbg_ptr);return Q.__wrap(t)}extract(t,n){let r,a;try{const c=s.__wbindgen_add_to_stack_pointer(-16),l=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),_=m,d=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),u=m;s.ibewrapper_extract(c,this.__wbg_ptr,l,_,d,u);var o=p()[c/4+0],i=p()[c/4+1];return r=o,a=i,w(o,i)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(r,a)}}encrypt(t,n,r){let a,o;try{const l=s.__wbindgen_add_to_stack_pointer(-16),_=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),d=m,u=g(r,s.__wbindgen_malloc,s.__wbindgen_realloc),f=m;s.ibewrapper_encrypt(l,this.__wbg_ptr,t,_,d,u,f);var i=p()[l/4+0],c=p()[l/4+1];return a=i,o=c,w(i,c)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(a,o)}}encrypt_with_randomness(t,n,r,a){let o,i;try{const _=s.__wbindgen_add_to_stack_pointer(-16),d=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),u=m,f=g(r,s.__wbindgen_malloc,s.__wbindgen_realloc),y=m,x=g(a,s.__wbindgen_malloc,s.__wbindgen_realloc),S=m;s.ibewrapper_encrypt_with_randomness(_,this.__wbg_ptr,t,d,u,f,y,x,S);var c=p()[_/4+0],l=p()[_/4+1];return o=c,i=l,w(c,l)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(o,i)}}decrypt(t,n,r,a){const o=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),i=m,c=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),l=m,_=g(r,s.__wbindgen_malloc,s.__wbindgen_realloc),d=m;return s.ibewrapper_decrypt(this.__wbg_ptr,o,i,c,l,_,d,a)>>>0}static add_ciphers(t,n){let r,a;try{const c=s.__wbindgen_add_to_stack_pointer(-16),l=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),_=m,d=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),u=m;s.ibewrapper_add_ciphers(c,l,_,d,u);var o=p()[c/4+0],i=p()[c/4+1];return r=o,a=i,w(o,i)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(r,a)}}static pk_id(t,n){let r,a;try{const c=s.__wbindgen_add_to_stack_pointer(-16),l=g(t,s.__wbindgen_malloc,s.__wbindgen_realloc),_=m,d=g(n,s.__wbindgen_malloc,s.__wbindgen_realloc),u=m;s.ibewrapper_pk_id(c,l,_,d,u);var o=p()[c/4+0],i=p()[c/4+1];return r=o,a=i,w(o,i)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(r,a)}}}class Q{static __wrap(t){t=t>>>0;const n=Object.create(Q.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();s.__wbg_keypair_free(t)}msk(){let t,n;try{const o=s.__wbindgen_add_to_stack_pointer(-16);s.keypair_msk(o,this.__wbg_ptr);var r=p()[o/4+0],a=p()[o/4+1];return t=r,n=a,w(r,a)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(t,n)}}mpk(){let t,n;try{const o=s.__wbindgen_add_to_stack_pointer(-16);s.keypair_mpk(o,this.__wbg_ptr);var r=p()[o/4+0],a=p()[o/4+1];return t=r,n=a,w(r,a)}finally{s.__wbindgen_add_to_stack_pointer(16),s.__wbindgen_free(t,n)}}}async function It(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Dt(){const e={};return e.wbg={},e.wbg.__wbg_alert_1017a00d3b851480=function(t,n){alert(w(t,n))},e.wbg.__wbindgen_throw=function(t,n){throw new Error(w(t,n))},e}function Lt(e,t){return s=e.exports,Z.__wbindgen_wasm_module=t,z=null,M=null,s}async function Z(e){if(s!==void 0)return s;typeof e=="undefined"&&(e="/assets/faceless_wasm_wrapper_bg.wasm");const t=Dt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await It(await e,t);return Lt(n,r)}const N=(e,t)=>e+":"+t,b=(e,t,n)=>{if(n!==void 0)return v.pk_id(n,N(e,t))};class en{constructor(t,n){k(this,"api");k(this,"account");k(this,"ibe");k(this,"ibe_keypair");this.api=t,this.account=n,this.ibe=void 0,this.ibe_keypair=null}wallet_address(){return this.account.address}keypair(){return this.ibe_keypair}is_initialized(){return this.ibe_keypair}async initialize(t){if(await Z(),this.ibe=v.new(),console.log("IBE: ",this.ibe),t===void 0){const n=this.ibe.generate_key();this.ibe_keypair=[n.msk(),n.mpk()]}else{const n=v.msk_to_mpk(t);this.ibe_keypair=[t,n]}}async balance(t,n){if(!this.is_initialized())return 0;const r=b(t,n,this.ibe_keypair[1]);let a=await this.api.query.faceless.accounts(r);if(a.isNone)return console.error("Failed to read account balance"),0;{a=String.fromCharCode(...a.unwrap());let o=this.ibe.extract(N(t,n),this.ibe_keypair[0]);return a=this.ibe.decrypt(a,n,o,1e3),console.log("Decrypted balance: ",a),a}}async register(t,n){var o;const r=b(t,n,(o=this.ibe_keypair)==null?void 0:o[1]);console.log("registered id: ",r);const a=await this.api.tx.faceless.register(r).signAndSend(this.account,async({events:i=[],status:c,txHash:l})=>{(c.isFinalized||c.isInBlock)&&(i.forEach(({phase:_,event:{data:d,method:u,section:f}})=>{console.log(`	' ${_}: ${f}.${u}:: ${d}`)}),a())})}async deposit(t,n,r){var i;const a=b(n,r,(i=this.ibe_keypair)==null?void 0:i[1]),o=await this.api.tx.faceless.deposit(a,t).signAndSend(this.account,async({events:c=[],status:l,txHash:_})=>{(l.isFinalized||l.isInBlock)&&(c.forEach(({phase:d,event:{data:u,method:f,section:y}})=>{console.log(`	' ${d}: ${y}.${f}:: ${u}`)}),o())})}async withdraw(t,n,r,a){var c;const o=b(r,a,(c=this.ibe_keypair)==null?void 0:c[1]),i=await this.api.tx.faceless.withdraw(o,t,n).signAndSend(this.account,async({events:l=[],status:_,txHash:d})=>{(_.isFinalized||_.isInBlock)&&(l.forEach(({phase:u,event:{data:f,method:y,section:x}})=>{console.log(`	' ${u}: ${x}.${y}:: ${f}`)}),i())})}async self_transfer(t,n,r,a,o){if(!this.ibe_keypair){console.log("Faceless client is not initialized. Call initialize() first.");return}await this.transfer(t,n,r,a,o,this.ibe_keypair[1])}async transfer(t,n,r,a,o,i){const c=this.ibe_keypair[1],l=b(n,r,c),_=b(a,o,i),d=this.ibe.random_scalar(),u=this.ibe.encrypt_with_randomness(-t,N(n,r),c,d),f=this.ibe.encrypt_with_randomness(t,N(a,o),i,d),y=await this.api.tx.faceless.transfer(l,_,u,f).signAndSend(this.account,async({events:x=[],status:S,txHash:j})=>{S.isFinalized&&(x.forEach(({phase:T,event:{data:K,method:G,section:U}})=>{console.log(`	' ${T}: ${U}.${G}:: ${K}`)}),y())})}}const tn=async()=>{const e=se(),t=new Je(e.substrate_wss),n=await Xe.create({provider:t});console.log("genesis: ",n.genesisHash.toHex());const a=new Qe({type:"sr25519"}).createFromUri("//Alice"),{data:o}=await n.query.system.account(a.address);console.log(`Alice balance: ${o.free}`);let i=new en(n,a);return await i.initialize(),i},nn=({IDL:e})=>{const t=e.Variant({InvalidAccount:e.Null,TransferFailure:e.Null,BalanceLow:e.Null}),n=e.Variant({Ok:e.Nat,Err:t});return e.Service({clear:e.Func([],[],["oneway"]),decrypt:e.Func([e.Text,e.Text,e.Text,e.Int32],[e.Int32],["query"]),deposit:e.Func([e.Text,e.Nat],[n],[]),encrypt_with_randomness:e.Func([e.Int32,e.Text,e.Text,e.Text],[e.Text],["query"]),extract:e.Func([e.Text,e.Text],[e.Text],["query"]),generate_key:e.Func([],[e.Text,e.Text],["query"]),getAnonymousDepositAddress:e.Func([],[e.Vec(e.Nat8)],[]),getBalance:e.Func([e.Text],[e.Text],["query"]),getDelegateBalance:e.Func([e.Principal],[e.Int64],[]),getDepositAddress:e.Func([],[e.Vec(e.Nat8)],[]),greet:e.Func([e.Text],[e.Text],["query"]),ledger:e.Func([],[e.Opt(e.Principal)],["query"]),pk_id:e.Func([e.Text,e.Text],[e.Text],["query"]),random_scalar:e.Func([],[e.Text],["query"]),register:e.Func([e.Text],[],["oneway"]),transfer:e.Func([e.Text,e.Text,e.Text,e.Text],[n],[]),verifyTransfer:e.Func([e.Text,e.Text],[e.Bool],["query"]),verifyWithdraw:e.Func([e.Text,e.Text],[e.Bool],["query"]),whoami:e.Func([],[e.Principal],["query"]),withdraw:e.Func([e.Text,e.Nat,e.Principal],[n],[])})},an="be2us-64aaa-aaaaa-qaabq-cai",rn=(e,t={})=>{const n=t.agent||new ae(P({},t.agentOptions));return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),console.log("backend canister id: ",e),console.log("dfx network: ","local"),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),ne.createActor(nn,P({agent:n,canisterId:e},t.actorOptions))},F=rn(an),on=({IDL:e})=>{const t=e.Record({e8s:e.Nat64}),n=e.Record({secs:e.Nat64,nanos:e.Nat32}),r=e.Record({owner:e.Principal,subaccount:e.Opt(e.Vec(e.Nat8))}),a=e.Record({num_blocks_to_archive:e.Nat64,max_transactions_per_response:e.Opt(e.Nat64),trigger_threshold:e.Nat64,max_message_size_bytes:e.Opt(e.Nat64),cycles_for_archive_creation:e.Opt(e.Nat64),node_max_memory_size_bytes:e.Opt(e.Nat64),controller_id:e.Principal});e.Record({send_whitelist:e.Vec(e.Principal),token_symbol:e.Opt(e.Text),transfer_fee:e.Opt(t),minting_account:e.Text,transaction_window:e.Opt(n),max_message_size_bytes:e.Opt(e.Nat64),icrc1_minting_account:e.Opt(r),archive_options:e.Opt(a),initial_values:e.Vec(e.Tuple(e.Text,t)),token_name:e.Opt(e.Text)});const o=e.Record({account:e.Vec(e.Nat8)}),i=e.Record({account:e.Text}),c=e.Record({canister_id:e.Principal}),l=e.Record({archives:e.Vec(c)}),_=e.Record({decimals:e.Nat32}),d=e.Variant({Int:e.Int,Nat:e.Nat,Blob:e.Vec(e.Nat8),Text:e.Text}),u=e.Record({url:e.Text,name:e.Text}),f=e.Record({to:r,fee:e.Opt(e.Nat),memo:e.Opt(e.Vec(e.Nat8)),from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(e.Nat64),amount:e.Nat}),y=e.Variant({GenericError:e.Record({message:e.Text,error_code:e.Nat}),TemporarilyUnavailable:e.Null,BadBurn:e.Record({min_burn_amount:e.Nat}),Duplicate:e.Record({duplicate_of:e.Nat}),BadFee:e.Record({expected_fee:e.Nat}),CreatedInFuture:e.Record({ledger_time:e.Nat64}),TooOld:e.Null,InsufficientFunds:e.Record({balance:e.Nat})}),x=e.Variant({Ok:e.Nat,Err:y}),S=e.Record({name:e.Text}),j=e.Record({start:e.Nat64,length:e.Nat64}),T=e.Record({timestamp_nanos:e.Nat64}),K=e.Variant({Approve:e.Record({fee:t,from:e.Vec(e.Nat8),allowance_e8s:e.Int,expires_at:e.Opt(T),spender:e.Vec(e.Nat8)}),Burn:e.Record({from:e.Vec(e.Nat8),amount:t}),Mint:e.Record({to:e.Vec(e.Nat8),amount:t}),Transfer:e.Record({to:e.Vec(e.Nat8),fee:t,from:e.Vec(e.Nat8),amount:t}),TransferFrom:e.Record({to:e.Vec(e.Nat8),fee:t,from:e.Vec(e.Nat8),amount:t,spender:e.Vec(e.Nat8)})}),G=e.Record({memo:e.Nat64,icrc1_memo:e.Opt(e.Vec(e.Nat8)),operation:e.Opt(K),created_at_time:T}),U=e.Record({transaction:G,timestamp:T,parent_hash:e.Opt(e.Vec(e.Nat8))}),xe=e.Record({blocks:e.Vec(U)}),Te=e.Variant({BadFirstBlockIndex:e.Record({requested_index:e.Nat64,first_valid_index:e.Nat64}),Other:e.Record({error_message:e.Text,error_code:e.Nat64})}),Fe=e.Record({callback:e.Func([j],[e.Variant({Ok:xe,Err:Te})],["query"]),start:e.Nat64,length:e.Nat64}),Ae=e.Record({certificate:e.Opt(e.Vec(e.Nat8)),blocks:e.Vec(U),chain_length:e.Nat64,first_block_index:e.Nat64,archived_blocks:e.Vec(Fe)}),Oe=e.Record({to:e.Text,fee:t,memo:e.Nat64,from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(T),amount:t}),Re=e.Record({symbol:e.Text}),Ce=e.Record({to:e.Vec(e.Nat8),fee:t,memo:e.Nat64,from_subaccount:e.Opt(e.Vec(e.Nat8)),created_at_time:e.Opt(T),amount:t}),Ee=e.Variant({TxTooOld:e.Record({allowed_window_nanos:e.Nat64}),BadFee:e.Record({expected_fee:t}),TxDuplicate:e.Record({duplicate_of:e.Nat64}),TxCreatedInFuture:e.Null,InsufficientFunds:e.Record({balance:t})}),Be=e.Variant({Ok:e.Nat64,Err:Ee}),Se=e.Record({transfer_fee:t});return e.Service({account_balance:e.Func([o],[t],["query"]),account_balance_dfx:e.Func([i],[t],["query"]),archives:e.Func([],[l],["query"]),decimals:e.Func([],[_],["query"]),icrc1_balance_of:e.Func([r],[e.Nat],["query"]),icrc1_decimals:e.Func([],[e.Nat8],["query"]),icrc1_fee:e.Func([],[e.Nat],["query"]),icrc1_metadata:e.Func([],[e.Vec(e.Tuple(e.Text,d))],["query"]),icrc1_minting_account:e.Func([],[e.Opt(r)],["query"]),icrc1_name:e.Func([],[e.Text],["query"]),icrc1_supported_standards:e.Func([],[e.Vec(u)],["query"]),icrc1_symbol:e.Func([],[e.Text],["query"]),icrc1_total_supply:e.Func([],[e.Nat],["query"]),icrc1_transfer:e.Func([f],[x],[]),name:e.Func([],[S],["query"]),query_blocks:e.Func([j],[Ae],["query"]),send_dfx:e.Func([Oe],[e.Nat64],[]),symbol:e.Func([],[Re],["query"]),transfer:e.Func([Ce],[Be],[]),transfer_fee:e.Func([e.Record({})],[Se],["query"])})},sn="bkyz2-fmaaa-aaaaa-qaaaq-cai",cn=(e,t={})=>{const n=t.agent||new ae(P({},t.agentOptions));return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),console.log("ledger canister id: ",e),n.fetchRootKey().catch(r=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(r)}),ne.createActor(on,P({agent:n,canisterId:e},t.actorOptions))},ce=cn(sn),ln=e=>Array.from(e,function(t){return("0"+(t&255).toString(16)).slice(-2)}).join("").toUpperCase(),le=e=>{for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t};BigInt(1)<<BigInt(32);const _n=e=>Array.from(e).map(t=>t.charCodeAt(0)),_e=e=>{const t=_n(`
account-id`),n=Ze.exports.sha224.create();n.update([...t,...e.toUint8Array(),...Array(32).fill(0)]);const r=new Uint8Array(n.array()),a=dn(r),o=new Uint8Array([...a,...r]);return ln(o)},dn=e=>{const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,Ye.crc32(X.Buffer.from(e)),!1),X.Buffer.from(t)};class un{constructor(){k(this,"ibe");k(this,"ibe_keypair");k(this,"faceless_deposit_address");k(this,"principal");this.ibe=void 0,this.ibe_keypair=null,this.faceless_deposit_address=null,this.principal=R.anonymous()}wallet_address(){return this.principal.toString()}keypair(){return this.ibe_keypair}is_initialized(){return this.ibe_keypair}async initialize(t){if(await Z(),this.ibe=v.new(),console.log("IBE: ",this.ibe),t===void 0){const o=this.ibe.generate_key();this.ibe_keypair=[o.msk(),o.mpk()]}else{const o=v.msk_to_mpk(t);this.ibe_keypair=[t,o]}console.log("key pair: ",this.ibe_keypair),this.faceless_deposit_address=await F.getDepositAddress(),console.log("anonymous principal: ",R.anonymous().toString());let n=await ce.account_balance({account:le(_e(R.fromText("xicnf-rbdmk-5rhhn-3puot-grqn7-ec6tz-hkdpd-ev7tq-p2wk4-27j7h-hqe")))});console.log("ledger balance of default: ",n);let r=await ce.account_balance({account:le(_e(R.fromText("2vxsx-fae")))});console.log("ledger balance of anonymous: ",r);let a=await F.getDelegateBalance(R.fromText("2vxsx-fae"));console.log("anonymous delegate balance: ",a)}async balance(t,n){if(!this.is_initialized())return 0;const r=b(t,n,this.ibe_keypair[1]);let a=await F.getBalance(r);if(console.log("Encrypted balance: ",a),a=="InvalidAccount")return console.error("Failed to read account balance"),0;{let o=this.ibe.extract(N(t,n),this.ibe_keypair[0]),i=this.ibe.decrypt(a,n,o,1e3);return console.log("Decrypted balance: ",i),i}}async register(t,n){var a;const r=b(t,n,(a=this.ibe_keypair)==null?void 0:a[1]);await F.register(r),console.log("registered id: ",r)}async deposit(t,n,r){var c;let a=Number(t);const o=b(n,r,(c=this.ibe_keypair)==null?void 0:c[1]);let i=await F.deposit(o,a);i.hasOwnProperty("Err")&&console.error("Deposit error:, ",JSON.stringify(i))}async withdraw(t,n,r,a){var l;console.log("destination: ",t);let o=Number(n);const i=b(r,a,(l=this.ibe_keypair)==null?void 0:l[1]);let c=await F.withdraw(i,o,R.fromText(t));c.hasOwnProperty("Err")&&console.error("Withdraw error:, ",JSON.stringify(c))}async self_transfer(t,n,r,a,o){if(!this.ibe_keypair){console.log("Faceless client is not initialized. Call initialize() first.");return}await this.transfer(t,n,r,a,o,this.ibe_keypair[1])}async transfer(t,n,r,a,o,i){const c=this.ibe_keypair[1],l=b(n,r,c),_=b(a,o,i),d=this.ibe.random_scalar(),u=this.ibe.encrypt_with_randomness(-t,N(n,r),c,d),f=this.ibe.encrypt_with_randomness(t,N(a,o),i,d);let y=await F.transfer(l,_,u,f);y.hasOwnProperty("Err")&&console.error("Transfer error:, ",JSON.stringify(y))}}const pn=async()=>{let e=new un;return await e.initialize(),e},jn=O("user",{state:()=>({createHRIPlatform:{phone:{}}}),getters:{},actions:{}}),mn=()=>`I hereby comfirm that I will be a builder in MUADAO.

As pioneers in the metaverse, we will build a new world of greater freedom, fairness and efficiency.

Created, Curated, and Owned by the People in MUADAO.
  
Random String: ${Math.random().toString(36).slice(2)}
  
Issued At: ${new Date().toLocaleString()}`,fn=O("wallet",{state:()=>({connect:{},auth:{signature:"",sign_content:mn()}}),getters:{},actions:{}}),Kn=O("account",{state:()=>({platform:"",username:"",icon:"#"}),getters:{},actions:{}}),Gn=O("receiver_account",{state:()=>({mpk:"",platform:"",username:"",icon:"#"}),getters:{},actions:{}}),gn=async()=>{const e=se(),t=oe();e.backend=="polkadot"?(t.client=await tn(),console.log("Substrate Faceless initialized")):e.backend=="dfinity"&&(t.client=await pn(),console.log("Dfinity Faceless initialized"))};var h="/assets/eth.071f3745.svg",hn="/assets/meta.69dd043e.svg",yn="/assets/more.5609e9de.svg",bn="/assets/phone.446cd626.svg",wn="/assets/gmail.de82163d.svg",kn="/assets/twitter.1300267d.svg",vn="/assets/telegram.c664c00c.svg",Nn="/assets/passport.98183bba.svg",xn="/assets/drivelicense.43f6d481.svg",Tn="/assets/twitterPlatform.a2b56969.png";const Jn=[{icon:h,name:"ETH",blockchain:"Ethereum"},{icon:h,name:"BTC",blockchain:"Bitcoin"},{icon:h,name:"USDT",blockchain:"Tether"},{icon:h,name:"BNB",blockchain:"Binance Coin"},{icon:h,name:"XRP",blockchain:"XRP"},{icon:h,name:"ADA",blockchain:"Cardano"},{icon:h,name:"DOGE",blockchain:"Dogecoin"},{icon:h,name:"DOT",blockchain:"Polkadot"},{icon:h,name:"UNI",blockchain:"Uniswap"},{icon:h,name:"LTC",blockchain:"Litecoin"},{icon:h,name:"LINK",blockchain:"Chainlink"},{icon:h,name:"BCH",blockchain:"Bitcoin Cash"},{icon:h,name:"XLM",blockchain:"Stellar"},{icon:h,name:"USDC",blockchain:"USD Coin"},{icon:h,name:"THETA",blockchain:"Theta"}],de=[{avatar:"https://avatars.githubusercontent.com/u/2106987?v=4",username:"@Hellohuman",platform:"GitHub",amount:1.23,coin:"ETH",key:1},{avatar:"https://avatars.githubusercontent.com/u/6128107?v=4",username:"facebook",platform:"GitHub",amount:2.34,coin:"BTC",key:2},{avatar:"https://avatars.githubusercontent.com/u/69631?v=4",username:"Meta",platform:"GitHub",amount:3.45,coin:"USDT",key:3}],Xn=[{icon:bn,name:"Mobile Phone",key:"MPhone"},{icon:vn,name:"Telegram",key:"Telegram"},{icon:wn,name:"Google",key:"Google"},{icon:kn,name:"Twitter",key:"Twitter"},{icon:hn,name:"Meta",key:"MPhone"},{icon:Nn,name:"Passport",key:"MPhone"},{icon:xn,name:"Drivelicense",key:"MPhone"},{icon:yn,name:"More in support",key:"MPhone"}],ue={"Twitter:@Hellohuman":{platform:"Twitter",username:"@Hellohuman",icon:Tn}},Qn=[{key:"1",name:"+1 America"},{key:"7",name:"+7 Russia"},{key:"81",name:"+81 Japan"},{key:"82",name:"+82 South Korea"},{key:"33",name:"+33 France"},{key:"44",name:"+44 England"},{key:"49",name:"+49 Germany"},{key:"61",name:"+61 Australia"},{key:"64",name:"+64 New Zealand"},{key:"65",name:"+65 Singapore"},{key:"66",name:"+66 Thailand"},{key:"84",name:"+84 Vietnam"},{key:"86",name:"+86 Chinese Mainland"}];const Fn=["message","notification","loadingBar","dialog"],An={configProviderProps:{theme:ee}},{message:Zn,notification:Yn,loadingBar:In,dialog:Dn}=Ie(Fn,An);var On=JSON.parse('{"limit":700000,"defaultChainName":"ropsten","defaultFortmaticKey":"pk_test_DA1AB1FA469B5627","walletChains":["ethereum"],"tooltip":"Please connect the wallet first.","faceless":{"http":"/staging","siteKey":"6LdC6tsgAAAAAHVC3mF9LX4mOLcO433o-vMvDVIF"}}');JSON.parse('{"limit":700000,"defaultChainName":"mainnet","defaultFortmaticKey":"pk_live_16DB86C1365211E5","walletChains":["ethereum"],"tooltip":"Please connect the wallet first.","faceless":{"http":"/production","siteKey":"6Lcsh84gAAAAAOLQ5ns1PnsMTpMHGgcNWJcjyVoy"}}');var E=On,pe="/assets/wax.92c9afa3.png",Y="/assets/solana.61ea7840.png",me="/assets/portis.1d8c4857.svg",fe="/assets/sollet.9f38f205.svg",ge="/assets/phantom.11e1cc1c.svg",B="/assets/ethereum.8df57ac4.png",he="/assets/metamask.6bad9f4f.svg",ye="/assets/coinbase.c5126533.svg",be="/assets/fortmatic.026b7785.svg",we="/assets/waxcloudwallet.48a3754c.svg",ke="/assets/walletconnect.b7d3621f.svg";const Ln={metamask:{mainnet:B,icon:he},walletconnect:{mainnet:B,icon:ke},walletlink:{mainnet:B,icon:ye},portis:{mainnet:B,icon:me},fortmatic:{mainnet:B,icon:be},sollet:{mainnet:Y,icon:fe},phantom:{mainnet:Y,icon:ge},waxio:{mainnet:pe,icon:we}},Rn={ethereum:{icon:B,name:"Ethereum",include:[{icon:he,name:"Metamask",symbol:"metamask"},{icon:ke,name:"WalletConnect",symbol:"walletconnect"},{icon:ye,symbol:"walletlink",name:"Coinbase Wallet"},{icon:me,name:"Portis",symbol:"portis"},{icon:be,name:"Fortmatic",symbol:"fortmatic"}]},solana:{icon:Y,name:"Solana",include:[{icon:fe,name:"Sollet",symbol:"sollet"},{icon:ge,name:"Phantom",symbol:"phantom"}]},wax:{icon:pe,name:"Wax",include:[{icon:we,symbol:"waxio",name:"Wax Wallet"}]}};let Cn=[];const En=E.walletChains;for(const e of En)Cn.push(Rn[e]);const ea={phantom:{},metamask:{},walletconnect:{rpc:{}},walletlink:{darkMode:!0,appName:"Faceless",network:E.defaultChainName,appLogoUrl:"https://gametaverse.png"},portis:{config:{},network:E.defaultChainName,dappId:"62b0690f-8942-4a25-902b-02a6c77ba9e0"},fortmatic:{network:E.defaultChainName,apiKey:E.defaultFortmaticKey},waxio:{pubKeys:[],userAccount:"",tryAutoLogin:!0,rpcEndpoint:"https://wax.greymass.com"},sollet:{network:"mainnet-beta",provider:"https://www.sollet.io"}};const ve=De();var Bn="/assets/phonePlatform.6ff92e9b.png";const W=async(e,t)=>{let n=JSON.parse(window.sessionStorage.getItem("eras"));Object.entries(n).forEach(([a,o])=>{ue[a]=o});const r=oe(ve);if(await gn(),e&&t){await r.client.register(e,t);let a=N(e,t);ue[a]={icon:Bn,platform:e,username:t},de[a]={avatar:"https://avatars.githubusercontent.com/u/2106987?v=4",username:t,platform:e,amount:await r.client.balance(e,t),coin:"ETH",key:de.length+1}}},Sn=async(e,t,n)=>{e.query.auth_token,e.query.client_id,e.query.uid,e.query.nickname,e.params.provider==="google_oauth2"&&await W("Google",e.query.nickname),e.params.provider==="twitter"&&await W("Twitter",e.query.nickname),e.params.provider==="telegram"&&await W("Telegram",e.query.nickname),e.params.provider==="cancel"&&await W("",""),n("/wallet")},Pn=[{path:"/",name:"home",component:()=>C(()=>import("./index.3881a43f.js"),["assets/index.3881a43f.js","assets/index.dfb4f594.css","assets/logo.8a52bdf9.js","assets/vendor.38c8d2bd.js","assets/index.4f8d112e.js"]),meta:{check:!1}},{path:"/app",component:()=>C(()=>import("./app.28a17110.js"),["assets/app.28a17110.js","assets/app.f0e1d992.css","assets/vendor.38c8d2bd.js","assets/logo.8a52bdf9.js","assets/index.4f8d112e.js"]),meta:{check:!1},children:[{path:"/app",redirect:"wallet"},{path:"/wallet",component:()=>C(()=>import("./wallet.6243d166.js"),["assets/wallet.6243d166.js","assets/wallet.22709f7e.css","assets/vendor.38c8d2bd.js","assets/symbol.aaf20d7a.js","assets/index.4f8d112e.js"]),meta:{check:!1}},{path:"/transfer",component:()=>C(()=>import("./transfer.12a73dac.js"),["assets/transfer.12a73dac.js","assets/transfer.fa6769df.css","assets/vendor.38c8d2bd.js","assets/symbol.aaf20d7a.js","assets/index.4f8d112e.js"]),meta:{check:!1}}]},{name:"error",path:"/:path(.*)*",component:()=>C(()=>import("./error.524330a9.js"),["assets/error.524330a9.js","assets/error.50098726.css","assets/vendor.38c8d2bd.js"]),meta:{check:!1}},{path:"/omniauth/:provider/callback",name:"Callback",component:()=>C(()=>import("./wallet.6243d166.js"),["assets/wallet.6243d166.js","assets/wallet.22709f7e.css","assets/vendor.38c8d2bd.js","assets/symbol.aaf20d7a.js","assets/index.4f8d112e.js"]),beforeEnter:Sn}],Ne=Le({history:et(),scrollBehavior:()=>({behavior:"smooth",top:0}),routes:Pn});Ne.beforeEach(({meta:{check:e,home:t},name:n,params:r},a,o)=>{if(e){const{account:i}=fn().connect;return i?o():o("/")}return o()});var Vn=JSON.parse("{}"),qn=JSON.parse("{}");const Mn=()=>{let e=localStorage.getItem("lan");return e||(navigator.language==="zh-CN"?"zh":"en")},zn=Mn();var Un=tt({locale:zn,legacy:!1,messages:{zh:Vn,en:qn}});const $n=nt({components:[at,rt,ot,st,it,ct,lt,_t,dt,ut,pt,mt,ft,gt,ht,yt,bt,wt,kt,vt,Nt,xt,Tt,Ft,At,Ot,Rt,Ct,Et,Bt,St,Pt,Vt,qt,Mt,zt]});Ut(Xt).use(Un).use($n).use(ve).use(Ne).use($t).use(Ht,{siteKey:E.faceless.siteKey,loaderOptions:{autoHideBadge:!0}}).mount("#container");export{Kt as _,se as a,oe as b,ea as c,Kn as d,ue as e,h as f,jn as g,Xn as h,gn as i,Qn as j,Bn as k,Gn as l,de as m,Yn as n,Cn as o,N as p,bn as q,Jn as t,fn as u,Ln as w};
